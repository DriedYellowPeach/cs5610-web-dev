<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Neil Wang" />
    <meta
      name="description"
      content="Brow Control - Play a game using only your eyebrows with face mesh detection"
    />
    <meta name="theme-color" content="#1e2030" />
    <meta
      http-equiv="Cache-control"
      content="no-cache, no-store, must-revalidate"
    />
    <link rel="icon" href="images/favicon.svg" type="image/svg+xml" />
    <link rel="stylesheet" href="game/style.css" />
    <link rel="stylesheet" href="css/game-nav.css" />
    <title>Brow Control | Neil Wang</title>
  </head>
  <body>
    <header class="navigation">
      <div class="nav-container">
        <a href="index.html" class="brand">
          <span class="brand-icon">&#127794;</span>
          <span>Neil's Pine</span>
        </a>
        <nav>
          <a href="index.html" class="nav-link">Me</a>
          <a href="work.html" class="nav-link active">Game</a>
          <a href="ai-page.html" class="nav-link">AI Page</a>
        </nav>
      </div>
    </header>

    <div class="page-container">
      <main class="main-content">
        <h1>Brow Control</h1>

        <canvas
          id="project-game"
          class="bevy-instance__canvas"
          style="display: none"
          width="1280"
          height="1080"
        ></canvas>

        <div id="facemesh-group">
          <button id="toggle-face-mesh-button" style="display: none">
            Toggle Face Mesh
          </button>

          <section id="facemesh-section" class="section-hidden">
            <div id="liveView" class="videoView">
              <div style="position: relative">
                <video id="webcam" autoplay playsinline></video>
                <canvas
                  class="output_canvas"
                  id="output_canvas"
                  style="position: absolute; left: 0px; top: 0px"
                ></canvas>
              </div>
            </div>
            <div class="blend-shapes">
              <ul class="blend-shapes-list" id="video-blend-shapes"></ul>
            </div>
          </section>
        </div>

        <section id="introduction-section">
          <div class="description">
            <div class="game">
              <h2>Using Brow to Control</h2>
              <p>
                <strong>Brow Control</strong> lets you play the game using only
                your eyebrows! Raise or lower your brows to control the
                character and dodge incoming obstacles in our exciting
                <em>Runner</em>
                game.
              </p>
            </div>
            <div id="reload-page-div" class="webcam" style="display: none">
              <h2>Camera Required</h2>
              <p>
                To play the game, please allow access to your webcam. If you
                previously denied permission, try reloading the page and
                granting access when prompted.
              </p>
            </div>
            <div class="face-mesh">
              <h2>About Face Mesh</h2>
              <p>
                Behind the scenes, we use advanced face mesh detection
                technology to track your eyebrow movements in real time. Curious
                how it works? Click the <em>Toggle Face Mesh</em> button to
                visualize the tracking in action!
              </p>
            </div>
          </div>
        </section>

        <a href="index.html" class="back-link">&larr; Back to Home</a>
      </main>
    </div>

    <script type="module" src="game/scripts/mediapipe.js"></script>
    <script type="module" src="game/scripts/game.js"></script>
  </body>
</html>
